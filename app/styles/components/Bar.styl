$bar-size= 25px

// the rotated label trick, see: https://gist.github.com/aiboy/7406727
.side-bar {
  display: flex;

  &.left, &.right {
    width: $bar-size;
    flex-direction: column;
  }
  &.top, &.bottom {
    height: $bar-size;
    flex-direction: row;
  }

  .side-bar-label {
    cursor: pointer;
    overflow: hidden;
    padding-tb: 5px;
    text-align right;
    &.active {
      background-color: gray(90%);
    }
  }

  .side-bar-label-container {
    display: inline-block;
    white-space: nowrap;
    transform: translate(0.9em, -0.5em) rotate(90deg);
    transform-origin: 0 0.5em;
    &:before {
      // this is the key, it keeps the box from collapse
      content: "";
      float: right;
      margin-bottom: 100%;
    }
  }

  .side-bar-label-content {
    display: flex;
    line-height: 1;
    align-items: center;
    .icon {margin-right: 4px}
  }

  &.left .side-bar-label-content {
    transform: rotate(180deg);
  }
}

